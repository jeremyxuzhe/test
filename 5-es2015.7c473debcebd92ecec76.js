(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Q4b0:function(e,t,o){"use strict";o.r(t),o.d(t,"HeroesModule",(function(){return He}));var n,r,a,c,i=o("s7LF"),b=o("iInd"),s=o("mrSG"),l=o("ApFJ"),d=o("8Y7J"),h=o("iELJ"),m=o("Dxy4");n=$localize`:@@removeHero␟e19c209e27252e5b174c1cb7c2be392e86a86a54␟6698492973188194377:Delete hero`,r=$localize`:@@areYouSure␟69e9c615849b4a73db4b15885952f4333b741c62␟7515883357904500238:Are you sure?`,a=$localize`:@@no␟3d3ae7deebc5949b0c1c78b9847886a94321d9fd␟3542042671420335679:No`,c=$localize`:@@yes␟4f20f2d5a6882190892e58b85f6ccbedfa737952␟2807800733729323332:Yes`;let f=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Kb({type:e,selectors:[["app-hero-remove"]],decls:9,vars:1,consts:[["mat-dialog-title",""],["aria-label","no button","mat-button","","mat-dialog-close",""],["aria-label","yes button","mat-button","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(d.Vb(0,"h2",0),d.Zb(1,n),d.Ub(),d.Vb(2,"mat-dialog-content"),d.Zb(3,r),d.Ub(),d.Vb(4,"mat-dialog-actions"),d.Vb(5,"button",1),d.Zb(6,a),d.Ub(),d.Vb(7,"button",2),d.Zb(8,c),d.Ub(),d.Ub()),2&e&&(d.Fb(7),d.sc("mat-dialog-close",!0))},directives:[h.f,h.d,h.b,m.b,h.c],encapsulation:2}),e})();var u=o("GS7A"),g=o("MPtT"),p=o("m1y0"),v=o("XtUe"),F=o("YXhr"),V=o("zHaW"),U=o("GiVz"),H=o("6qOy"),C=o("SVse"),w=o("SqCe"),O=o("UhP/"),k=o("bxVz"),_=o("Tj54"),I=o("CSQi"),P=o("Q2Ze"),y=o("e6WT");const M=["form"];var x,z,S;function $(e,t){1&e&&(d.Vb(0,"mat-list-item"),d.Rb(1,"img",11),d.Vb(2,"h3",12),d.Rb(3,"app-loading-placeholder",13),d.Ub(),d.Vb(4,"p",12),d.Rb(5,"app-loading-placeholder",13),d.Ub(),d.Vb(6,"div",14),d.Rb(7,"app-loading-placeholder",13),d.Vb(8,"mat-icon",15),d.Jc(9,"favorite"),d.Ub(),d.Ub(),d.Ub()),2&e&&(d.Fb(3),d.sc("width","150px")("height","0.9rem"),d.Fb(2),d.sc("width","100px")("height","0.9rem"),d.Fb(2),d.sc("width","30px")("height","0.9rem"))}x=$localize`:@@heroesList␟1d19874c18ad0ba8a4a7637ec2b5418f233be6e7␟8115945994437860139:Heroes list`,z=$localize`:@@createHero␟76069d74e5090c36f656cc937f09a031b6fce7a1␟3737543504924228701:Create a hero`,S=$localize`:@@firstTwoHeroesById␟99322845b5ced60363fe29230d27d2608f37bec5␟673216378154836299:Heroes (1-2)`;const N=function(){return[1,2,3,4,5,6,7,8]};function B(e,t){1&e&&(d.Vb(0,"mat-list",9),d.Hc(1,$,10,6,"mat-list-item",10),d.Ub()),2&e&&(d.Fb(1),d.sc("ngForOf",d.vc(1,N)))}function R(e,t){if(1&e){const e=d.Wb();d.Vb(0,"mat-icon",21),d.hc("click",(function(){d.Bc(e);const t=d.lc().$implicit;return d.lc().deleteHero(t)})),d.Jc(1," delete "),d.Ub()}}const T=function(e){return[e]},L=function(){return[]};function Z(e,t){if(1&e){const e=d.Wb();d.Vb(0,"mat-list-item"),d.Vb(1,"a",16),d.Rb(2,"img",17),d.Ub(),d.Vb(3,"h3",12),d.Vb(4,"a",18),d.Jc(5),d.Ub(),d.Ub(),d.Vb(6,"p",12),d.Vb(7,"a",18),d.Vb(8,"span"),d.Jc(9),d.Ub(),d.Ub(),d.Ub(),d.Vb(10,"div",14),d.Jc(11),d.mc(12,"number"),d.Vb(13,"mat-icon",19),d.hc("click",(function(){d.Bc(e);const o=t.$implicit;return d.lc().like(o)})),d.Jc(14," favorite "),d.Ub(),d.Hc(15,R,2,0,"mat-icon",20),d.Ub(),d.Ub()}if(2&e){const e=t.$implicit,o=d.lc();d.Fb(1),d.sc("@fadeIn","fadeIn")("routerLink",e.default?d.wc(16,T,o.routesConfig.routes.heroes.detail(e.id)):d.vc(18,L)),d.Fb(1),d.sc("src",e.default?e.avatarThumbnailUrl:"assets/images/default-hero.png",d.Cc),d.Fb(1),d.Hb("cp",e.default),d.Fb(1),d.sc("routerLink",e.default?d.wc(19,T,o.routesConfig.routes.heroes.detail(e.id)):d.vc(21,L)),d.Fb(1),d.Lc(" ",e.name," "),d.Fb(1),d.Hb("cp",e.default),d.Fb(1),d.sc("routerLink",e.default?d.wc(22,T,o.routesConfig.routes.heroes.detail(e.id)):d.vc(24,L)),d.Fb(2),d.Kc(e.alterEgo),d.Fb(2),d.Lc(" ",d.oc(12,13,e.likes,".0")," "),d.Fb(4),d.sc("ngIf",!e.default)}}var j;function J(e,t){1&e&&(d.Vb(0,"div",22),d.Vb(1,"form"),d.Vb(2,"div",23),d.Rb(3,"app-loading-placeholder",24),d.Ub(),d.Vb(4,"div",23),d.Rb(5,"app-loading-placeholder",24),d.Ub(),d.Vb(6,"button",25),d.Zb(7,j),d.Ub(),d.Ub(),d.Ub()),2&e&&(d.Fb(3),d.sc("height","2rem"),d.Fb(2),d.sc("height","2rem"),d.Fb(1),d.sc("disabled",!0))}j=$localize`:@@create␟70a67e04629f6d412db0a12d51820b480788d795␟5674286808255988565:Create`;const Q=["placeholder",$localize`:@@nameWithPalindrome␟02806b08240a75ef812e0298b1866fdc78fb5091␟3804461203223351745:Name (Palindrome?)`],E=["placeholder",$localize`:@@realName␟f6b7b8e62152ce2ecc1d1c43b42e506573448093␟8097628895036343135:Real name`];var q,A,W,G,K,Y;function D(e,t){1&e&&d.Zb(0,A)}function X(e,t){1&e&&d.Zb(0,W)}function ee(e,t){if(1&e&&(d.Vb(0,"mat-error"),d.Hc(1,D,1,0,"ng-template",31),d.Hc(2,X,1,0,"ng-template",31),d.Ub()),2&e){const e=d.lc(2);d.Fb(1),d.sc("ngIf",e.newHeroForm.controls.name.errors.required),d.Fb(1),d.sc("ngIf",e.newHeroForm.controls.name.errors.maxlength)}}function te(e,t){1&e&&d.Zb(0,G)}function oe(e,t){if(1&e&&d.Zb(0,K),2&e){const e=d.lc(3);d.cc(e.newHeroForm.controls.alterEgo.errors.maxlength.requiredLength)(e.newHeroForm.controls.alterEgo.errors.maxlength.actualLength),d.ac(0)}}function ne(e,t){if(1&e&&(d.Vb(0,"mat-error"),d.Hc(1,te,1,0,"ng-template",31),d.Hc(2,oe,1,2,"ng-template",31),d.Ub()),2&e){const e=d.lc(2);d.Fb(1),d.sc("ngIf",e.newHeroForm.controls.alterEgo.errors.required),d.Fb(1),d.sc("ngIf",e.newHeroForm.controls.alterEgo.errors.maxlength)}}function re(e,t){1&e&&(d.Vb(0,"div"),d.Zb(1,Y),d.Ub())}function ae(e,t){if(1&e){const e=d.Wb();d.Vb(0,"div"),d.Vb(1,"form",26,27),d.hc("ngSubmit",(function(){return d.Bc(e),d.lc().createNewHero()})),d.Vb(3,"mat-form-field",23),d.Vb(4,"input",28),d.bc(5,Q),d.Ub(),d.Hc(6,ee,3,2,"mat-error",6),d.Ub(),d.Vb(7,"mat-form-field",23),d.Vb(8,"input",29),d.bc(9,E),d.Ub(),d.Hc(10,ne,3,2,"mat-error",6),d.Ub(),d.Vb(11,"button",30),d.Zb(12,q),d.Ub(),d.Hc(13,re,2,0,"div",6),d.Ub(),d.Ub()}if(2&e){const e=d.zc(2),t=d.lc();d.Fb(1),d.sc("formGroup",t.newHeroForm),d.Fb(5),d.sc("ngIf",t.newHeroForm.controls.name.errors&&e.submitted),d.Fb(4),d.sc("ngIf",t.newHeroForm.controls.alterEgo.errors&&e.submitted),d.Fb(1),d.sc("disabled",e.submitted&&!t.newHeroForm.valid),d.Fb(2),d.sc("ngIf",t.error)}}function ce(e,t){1&e&&(d.Vb(0,"pre"),d.Jc(1,"      "),d.Rb(2,"app-loading-placeholder",24),d.Jc(3,"\n    "),d.Ub()),2&e&&(d.Fb(2),d.sc("height","300px"))}function ie(e,t){if(1&e&&(d.Vb(0,"pre"),d.Jc(1),d.mc(2,"json"),d.mc(3,"slice"),d.Ub()),2&e){const e=d.lc();d.Fb(1),d.Kc(d.nc(2,1,d.pc(3,3,e.heroes,0,2)))}}q=$localize`:@@create␟0f8d412b21b180c72c06ba7b5bb3f19a705965b3␟2273881439361646332: Create `,A=$localize`:@@nameRequired␟a67c2981091ae8ad9c1210a85443c8eb1e605ccf␟1912775432195051433: Name is required `,W=$localize`:@@maxLengthError␟5ceca45c35450cdeb4a74286fe5302ead5792440␟2996789288875048110: The field is too long `,G=$localize`:@@nameRequired␟a67c2981091ae8ad9c1210a85443c8eb1e605ccf␟1912775432195051433: Name is required `,K=$localize`:@@maxLengthError␟61e8020d6d8d0e631ac99ece34862edf1d71ed73␟7342271999022965640: The field is too long. Required length: ${"\ufffd0\ufffd"}:INTERPOLATION:. Current: ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,Y=$localize`:@@errorHasOcurred␟c6a8559c6efdd3e71c9474de9ced2e7190c3aace␟1564286548074479747:An error has ocurred`;let be=(()=>{class e{constructor(e,t,o,n,r,a,c,b){this.heroService=e,this.dialog=t,this.snackBar=o,this.router=n,this.i18n=r,this.formBuilder=a,this.cookieService=c,this.routesConfig=b,this.canVote=!1,this.canVote=this.heroService.checkIfUserCanVote(),this.newHeroForm=this.formBuilder.group({name:new i.c("",[i.n.required,i.n.maxLength(30)]),alterEgo:new i.c("",[i.n.required,i.n.maxLength(30)])}),this.onChanges()}ngOnInit(){this.heroService.getHeroes().subscribe(e=>{this.heroes=e})}createNewHero(){return Object(s.b)(this,void 0,void 0,(function*(){this.newHeroForm.valid&&this.heroService.createHero(new l.a(this.newHeroForm.value)).then(()=>{this.myNgForm.resetForm(),this.snackBar.open(this.i18n({value:"Hero created",id:"@@heroCreated"}),"",{duration:1e3})},()=>{this.error=!0})}))}like(e){this.canVote=this.heroService.checkIfUserCanVote(),this.canVote?(e.like(),this.cookieService.put("votes",""+(Number(this.cookieService.get("votes")||0)+1)),this.heroService.updateHero(e)):this.snackBar.open(this.i18n({value:"Can't vote anymore",id:"@@cannotVote"}),"",{duration:1e3})}deleteHero(e){this.dialog.open(f).afterClosed().subscribe(t=>{t&&this.heroService.deleteHero(e.id).then(()=>{this.heroService.showSnackBar(this.i18n({value:"Hero removed",id:"@@heroRemoved"}))},()=>{this.error=!0})})}trackByFn(e){return e}onChanges(){this.newHeroForm.get("name").valueChanges.subscribe(e=>{e&&e.length>=3&&v.a.isPalindrome(e)?this.snackBar.open(this.i18n({value:"Yeah that's a Palindrome!",id:"@@yeahPalindrome"}),"",{duration:2e3}):this.snackBar.dismiss()})}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(F.a),d.Qb(h.a),d.Qb(V.a),d.Qb(b.c),d.Qb(U.a),d.Qb(i.b),d.Qb(H.b),d.Qb(p.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["app-heroes-list-page"]],viewQuery:function(e,t){var o;1&e&&d.Nc(M,!0),2&e&&d.yc(o=d.ic())&&(t.myNgForm=o.first)},decls:18,vars:7,consts:[["id","left"],[1,"header__title"],["id","loading-list",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["id","right"],["id","form-loading",4,"ngIf"],[4,"ngIf"],["id","heroes-json"],[1,"clear"],["id","loading-list"],[4,"ngFor","ngForOf"],["alt","default hero avatar","mat-list-avatar","","src","/assets/images/default-hero.png"],["mat-line",""],[3,"width","height"],[1,"hero-actions"],[1,"icon__like--grey"],["mat-list-avatar","",3,"routerLink"],["alt","hero avatar","mat-list-avatar","",1,"cp",3,"src"],[3,"routerLink"],[1,"icon__like--red",3,"click"],["class","icon__remove",3,"click",4,"ngIf"],[1,"icon__remove",3,"click"],["id","form-loading"],[1,"input-container"],[3,"height"],["aria-label","create button","mat-raised-button","",3,"disabled"],["ngxScrollToFirstInvalid","","autocomplete","on",3,"formGroup","ngSubmit"],["form","ngForm"],["matInput","","name","hname","type","text","formControlName","name",6,"placeholder"],["matInput","","type","text","name","rname","formControlName","alterEgo",6,"placeholder"],["aria-label","create button","mat-raised-button","","type","submit",3,"disabled"],[3,"ngIf"]],template:function(e,t){1&e&&(d.Vb(0,"div",0),d.Vb(1,"h2",1),d.Zb(2,x),d.Ub(),d.Vb(3,"div"),d.Hc(4,B,2,2,"mat-list",2),d.Vb(5,"mat-list"),d.Hc(6,Z,16,25,"mat-list-item",3),d.Ub(),d.Ub(),d.Ub(),d.Vb(7,"div",4),d.Vb(8,"h2",1),d.Zb(9,z),d.Ub(),d.Hc(10,J,8,3,"div",5),d.Hc(11,ae,14,5,"div",6),d.Vb(12,"div",7),d.Vb(13,"h2",1),d.Zb(14,S),d.Ub(),d.Hc(15,ce,4,1,"pre",6),d.Hc(16,ie,4,7,"pre",6),d.Ub(),d.Ub(),d.Rb(17,"div",8)),2&e&&(d.Fb(4),d.sc("ngIf",!t.heroes),d.Fb(2),d.sc("ngForOf",t.heroes)("ngForTrackBy",t.trackByFn),d.Fb(4),d.sc("ngIf",!t.heroes),d.Fb(1),d.sc("ngIf",t.heroes),d.Fb(4),d.sc("ngIf",!t.heroes),d.Fb(1),d.sc("ngIf",t.heroes))},directives:[C.o,w.a,C.n,w.c,w.b,O.e,k.a,_.a,b.d,i.o,i.k,i.l,m.b,I.b,i.f,P.c,y.a,i.a,i.j,i.e,P.b],pipes:[C.e,C.i,C.v],styles:["a[_ngcontent-%COMP%]{color:rgba(0,0,0,.54);font-size:14px;text-transform:none;text-decoration:none}#loading-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.2rem}#form-loading[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{margin:.5rem 0}#left[_ngcontent-%COMP%]{width:50%;float:left;margin-left:6%}#right[_ngcontent-%COMP%]{margin-left:50%;text-align:center;padding-right:17%}.clear[_ngcontent-%COMP%]{clear:both}.mat-list[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:table}.mat-list[_ngcontent-%COMP%]   .mat-list-text[_ngcontent-%COMP%]{text-align:left!important}.hero-actions[_ngcontent-%COMP%]{margin-left:1rem;padding-bottom:0}.hero-actions[_ngcontent-%COMP%]   .icon__remove[_ngcontent-%COMP%]{padding-left:.5rem;color:#2f4f4f;cursor:pointer}form[_ngcontent-%COMP%]{display:grid;width:80%}form[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto}form[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{color:#fff;background:#3f51b5;width:50%}form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}#heroes-json[_ngcontent-%COMP%]{margin-top:2rem}#heroes-json[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin-top:1rem}@media (max-width:680px){#left[_ngcontent-%COMP%]{width:100%;float:none;margin-left:auto;margin-right:auto}#right[_ngcontent-%COMP%]{margin:1em auto 0;width:90%;float:none;padding:0}}"],data:{animation:[Object(u.n)("fadeIn",[Object(u.m)("* => *",Object(u.o)(g.a,{params:{timing:1,delay:0}}))])]}}),e})();var se,le,de,he=o("uN+E"),me=o("FD4W");function fe(e,t){1&e&&(d.Vb(0,"div",4),d.Rb(1,"app-hero-loading"),d.Ub())}function ue(e,t){if(1&e&&(d.Vb(0,"div",4),d.Tb(1),d.Rb(2,"app-hero-card",5),d.Vb(3,"div",6),d.Vb(4,"pre"),d.Jc(5),d.mc(6,"json"),d.Ub(),d.Ub(),d.Sb(),d.Ub()),2&e){const e=d.lc();d.sc("@fadeIn","fadeIn"),d.Fb(2),d.sc("hero",e.hero),d.Fb(3),d.Kc(d.nc(6,3,e.hero))}}function ge(e,t){if(1&e){const e=d.Wb();d.Vb(0,"button",7),d.hc("click",(function(){return d.Bc(e),d.lc().goToTheAnchor()})),d.Zb(1,de),d.Ub()}}se=$localize`:@@heroDetail␟7224a11f306a565b3edc2be3cbb1af4fb4bf25be␟2304191367106977039:Hero detail`,le=$localize`:@@goBack␟68e8e97e9e32e877d3b60f114de514daa05c6a8d␟3924409388551556291: Go back
`,de=$localize`:@@anchorToHero␟11d7a78fe45d37c6f8e3d8eb392e457a9aea490a␟8276156734427081137: Anchor the hero
`;let pe=(()=>{class e{constructor(e,t,o){this.location=e,this.router=t,this.activatedRoute=o}ngOnInit(){this.hero=this.activatedRoute.snapshot.data.hero}goBack(){this.location.back()}goToTheAnchor(){this.router.navigate([p.b.routes.heroes.detail(this.hero.id)],{fragment:"heroe-detail"})}}return e.\u0275fac=function(t){return new(t||e)(d.Qb(C.k),d.Qb(b.c),d.Qb(b.a))},e.\u0275cmp=d.Kb({type:e,selectors:[["app-hero-detail-page"]],decls:7,vars:3,consts:[[1,"header__title"],["class","container",4,"ngIf"],["aria-label","Anchor the hero button","mat-raised-button","","type","button",3,"click",4,"ngIf"],["aria-label","Go back button","mat-raised-button","","type","button",3,"click"],[1,"container"],[3,"hero"],["id","hero-json"],["aria-label","Anchor the hero button","mat-raised-button","","type","button",3,"click"]],template:function(e,t){1&e&&(d.Vb(0,"h1",0),d.Zb(1,se),d.Ub(),d.Hc(2,fe,2,0,"div",1),d.Hc(3,ue,7,5,"div",1),d.Hc(4,ge,2,0,"button",2),d.Vb(5,"button",3),d.hc("click",(function(){return t.goBack()})),d.Zb(6,le),d.Ub()),2&e&&(d.Fb(2),d.sc("ngIf",!t.hero),d.Fb(1),d.sc("ngIf",t.hero),d.Fb(1),d.sc("ngIf",t.hero))},directives:[C.o,m.b,he.a,me.a],pipes:[C.i],styles:[".container[_ngcontent-%COMP%]{width:65%;margin-left:auto;margin-right:auto;margin-top:2rem}button[_ngcontent-%COMP%]{margin:2rem auto;display:block}@media (max-width:600px){.container[_ngcontent-%COMP%]{width:90%}}"],data:{animation:[Object(u.n)("fadeIn",[Object(u.m)("* => *",Object(u.o)(g.a,{params:{timing:1,delay:0}}))])]}}),e})(),ve=(()=>{class e{constructor(e){this.heroService=e}resolve(e){return this.heroService.getHero(e.paramMap.get("id"))}}return e.\u0275fac=function(t){return new(t||e)(d.dc(F.a))},e.\u0275prov=d.Mb({token:e,factory:e.\u0275fac}),e})();const Fe=[{path:"",component:be},{path:":id",component:pe,resolve:{hero:ve}}];let Ve=(()=>{class e{}return e.\u0275mod=d.Ob({type:e}),e.\u0275inj=d.Nb({factory:function(t){return new(t||e)},providers:[ve],imports:[[b.e.forChild(Fe)],b.e]}),e})();var Ue=o("PCNd");let He=(()=>{class e{}return e.\u0275mod=d.Ob({type:e}),e.\u0275inj=d.Nb({factory:function(t){return new(t||e)},imports:[[i.g,i.m,Ue.a,Ve]]}),e})()}}]);